
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset=utf-8>
    <link rel="stylesheet" media="all" href="https://cdn.rawgit.com/cutestrap/cutestrap/master/dist/css/cutestrap.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/vue/2.0.1/vue.js"></script>
    <script src="https://rawgit.com/buhrmi/vue-sync/master/index.js"></script>
    <script src="https://unpkg.com/axios/dist/axios.min.js"></script>
    <style>
      button {margin:0 5px 5px 0;}
    </style>
    <title>test</title>
  </head>
<body>


<div id="app" class="wrapper" v-on:scroll="endlessScroll">
  <!-- ### Search box ### -->
  <label class="textfield">
    <input type="text" v-model="queryinput" v-on:keyup="searchOn" v-on:keyup.enter="searchOn" /><button v-on:click="searchOn">search</button>
    <span class="textfield__label">search input</span>
  </label>
  
  <!-- ### Search results ### -->

  <div id="resultsSearchResults" v-if="uiHelpers.totalHits > 0">
    <!-- ## Results info ## -->
    <div class="result-info">
      {{ uiHelpers.totalHits }} hits for query "{{ queryinput }}" of {{ uiHelpers.docCount }} documents in index
    </div>
    
    <!-- ## Categories ## -->
    <div id="filters">
      <div v-for="categoryObj in results.categories">
        <div v-for="(categoryValue, categoryName, index) in categoryObj">
          <h3>{{ categoryName }}</h3>
          <button v-on:click="filterOn(categoryName, filter.key, index)" class="btn--secondary" v-for="(filter, index) in categoryValue">index-{{ index }}: {{ filter.key }} <span class="disabled">{{ filter.value }}</button>
        </div>
      </div>
    </div>

    <!-- Search result items -->
    <div class="result-item" v-for="items in results.searchresults">
      <h1>{{ items.document.Varenavn }}</h1>
      <pre>{{ items.document }}</pre>
    </div>
  </div>

  <!-- ### JSON ### -->
  <div id="json" v-if="results.searchresults">
    <h3>config</h3>
    <pre>{{ config }}</pre>
    <h3>categories</h3>
    <pre>{{ results.categories }}</pre>
    <h3>searchresults</h3>
    <pre>{{ results.searchresults }}</pre>
  </div>
</div>

<script src="./norch.js"></script>
</body>
</html>
